<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lakefarm.mapper.EmployeeMapper">
<select id="findUserMoneyById" parameterType="String" resultType="int">
   SELECT  userinfo.u_money FROM userinfo WHERE userinfo.u_id=#{u_id}
</select>
   <select id="findEmpolyeeMoneyById" parameterType="int" resultType="int">
     SELECT employee.e_price FROM employee WHERE e_id=#{e_id}
   </select>
   <update id="updateUserMoney" parameterType="com.lakefarm.entity.User">
        UPDATE userinfo u SET u.u_money=#{u_money} WHERE u_id=#{u_id}
   </update>
    <select id="findUser_employeeIsExists" parameterType="String" resultType="com.lakefarm.entity.User_employee">
        SELECT * FROM lakefarm.user_employee WHERE u_id=#{u_id} AND e_id IS NOT NULL ;
    </select>
    <select id="findEmployeeById" parameterType="int" resultType="com.lakefarm.entity.Employee">
        select * from lakefarm.employee WHERE e_id=#{e_id};
    </select>
    <insert id="insertUser_employee" parameterType="com.lakefarm.entity.User_employee">
   INSERT INTO user_employee(u_id,e_id,e_typeid,e_duration,e_starteddate,e_enddate,e_egrade)
    VALUES (#{u_id},#{e_id},#{e_typeid},#{e_duration},#{e_starteddate},#{e_enddate},#{e_egrade})
    </insert>
</mapper>