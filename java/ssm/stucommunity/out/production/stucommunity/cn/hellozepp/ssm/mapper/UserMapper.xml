<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace命名空间，作用就是对sql进行分类化管理，理解sql隔离 
注意：使用mapper代理方法开发，namespace有特殊重要的作用，namespace等于mapper接口地址
-->
<mapper namespace="cn.hellozepp.ssm.mapper.UserMapper">

	<!--用户级别增删改查-->
	<select id="login" parameterType="User" resultType="User">
		SELECT * FROM user where username=#{username}
			<if test="password!=''and password !=null">
				and password=#{password}
			</if>
	</select>

	<insert id="register" parameterType="User">
		insert into user(username,name,password) values (#{username},#{name},#{password})
	</insert>
	<update id="changePass" parameterType="String" >
		UPDATE user set password=#{password} where username=#{username}
	</update>
	<delete id="delUserByUsername" parameterType="String">
		DELETE FROM privateMessage.user WHERE username=#{username}
	</delete>
	<!--会员增删改查-->
	<select id="checkUserByUsername" parameterType="String" resultType="UserInfo">
		select * from privateMessage.userInfo WHERE username=#{username}
	</select>
	<insert id="insertToUserInfo" parameterType="UserInfo">
		INSERT INTO privateMessage.userInfo(username,name,sex,community,position,department,tel)
		VALUES (#{username},#{name},#{sex},#{community},#{position},#{department},#{tel})
	</insert>
	<!--&lt;!&ndash;社团级别增删改查&ndash;&gt;-->
	<!--<select id="findCommunity" parameterType="int" resultType="Community">-->
		<!--SELECT * FROM community-->
		<!--<where>-->
			<!--<if test="id!=''and id !=null">-->
				<!--and id=#{value}-->
			<!--</if>-->
		<!--</where>-->
	<!--</select>-->

	<!--<insert id="insertCommunity" parameterType="Community">-->
		<!--insert into community(id,name,logo,description) values (#{1},#{2},#{3},#{4})-->
	<!--</insert>-->
	<!--<update id="changeCommunity" parameterType="Community">-->
		<!--UPDATE community set name=#{1},logo=#{2},description=#{3} where id =#{4}-->
	<!--</update>-->
	<!--<delete id="delCommById" parameterType="int">-->
		<!--DELETE FROM community WHERE id=#{id}-->
	<!--</delete>-->

	<!--&lt;!&ndash;社团通知增删改查&ndash;&gt;-->
	<!--<select id="getNotice"  resultType="Notice">-->
		<!--SELECT * FROM notice-->
	<!--</select>-->

	<!--<insert id="addNotice" parameterType="Notice">-->
		<!--insert into notice(title,auther,community,content,time,click) values-->
		<!--(#{1},#{2},#{3},#{4},#{5},#{6})-->
	<!--</insert>-->
	<!--<update id="changePass" parameterType="Notice">-->
		<!--UPDATE notice set title=#{1},auther=#{2},community=#{3},content=#{4} where id =#{5}-->
	<!--</update>-->
	<!--<delete id="delNotice" parameterType="int">-->
		<!--DELETE FROM notice WHERE id=#{id}-->
	<!--</delete>-->



</mapper>


